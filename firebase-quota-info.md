# Firebase 配額說明

## 配額限制 (免費方案)

### Firestore 每日限制
- 📝 **寫入操作**: 20,000 次/天
- 📖 **讀取操作**: 50,000 次/天  
- 🗑️ **刪除操作**: 20,000 次/天
- 💾 **儲存空間**: 1 GB/月

### Authentication
- 👥 **每月活躍用戶**: 無限制 (免費)

## 配額重置時間

### 每日配額
- **重置時間**: 每天 UTC 午夜 (台北時間上午 8:00)
- **監控位置**: [Firebase Console > 使用量](https://console.firebase.google.com/project/todo-list-sync/usage)

### 即時限制
- **每秒寫入**: 約 1 次/秒 (單一文檔)
- **同時連接**: 100,000 個連接

## 配額超限時的處理

### 應用程式行為
1. 📱 **Todo 操作**: 仍可正常使用 (本地儲存)
2. ☁️ **雲端同步**: 暫時停止
3. 🔄 **自動恢復**: 每小時檢查一次配額恢復

### 錯誤訊息
```
FirebaseError: [code=resource-exhausted]: Quota exceeded.
```

## 如何避免配額超限

### 開發建議
1. **批次操作**: 合併多個寫入為一次批次
2. **快取機制**: 減少重複讀取
3. **本地優先**: 主要使用 localStorage
4. **節流同步**: 延遲雲端同步操作

### 監控工具
- Firebase Console 使用量頁面
- 設定配額警告 (80% 時通知)

## 升級方案

### Blaze 方案 (用量計費)
- 💰 **費用**: 超出免費額度後按用量計費
- 📈 **寫入**: $0.18 / 100,000 次
- 📖 **讀取**: $0.06 / 100,000 次
- 🗑️ **刪除**: $0.02 / 100,000 次

### 建議
- 小型專案: 免費方案通常足夠
- 生產環境: 考慮升級至 Blaze 方案

## 當前專案優化

### 已實施策略
- ✅ 節流雲端同步 (3秒延遲)
- ✅ 配額檢測與自動停止
- ✅ 本地儲存優先
- ✅ 每小時配額恢復檢查

### 預期使用量
- **每日寫入**: ~100-500 次 (正常使用)
- **每日讀取**: ~50-200 次 (登入時)
- **風險等級**: 🟢 低風險

配額通常在隔天上午8點自動恢復！