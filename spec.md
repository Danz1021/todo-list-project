# å¾…è¾¦æ¸…å–®å°ˆæ¡ˆè¦æ ¼æ–‡ä»¶ (spec.md)

## å°ˆæ¡ˆæ¦‚è¿°

ã€Œâ˜€ï¸ Sunnyçš„é…’ç©ºæ¸…å–®ã€æ˜¯ä¸€å€‹åŸºæ–¼ HTML/CSS/JavaScript çš„å–®é é¢å¾…è¾¦äº‹é …ç®¡ç†æ‡‰ç”¨ç¨‹å¼ï¼Œå…·æœ‰èª¿é…’ä¸»é¡Œçš„ä»‹é¢è¨­è¨ˆå’Œè±å¯Œçš„äº’å‹•åŠŸèƒ½ã€‚

## ç³»çµ±æ¶æ§‹

### æŠ€è¡“å †ç–Š
- **å‰ç«¯**: HTML5, CSS3, JavaScript (ES6+)
- **è³‡æ–™å­˜å„²**: LocalStorage API
- **éƒ¨ç½²**: éœæ…‹æª”æ¡ˆ (ç„¡éœ€å¾Œç«¯æœå‹™å™¨)

### æª”æ¡ˆçµæ§‹
```
todo-list-project/
â”œâ”€â”€ index.html          # ä¸»è¦æ‡‰ç”¨ç¨‹å¼æª”æ¡ˆ
â”œâ”€â”€ README.md            # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ spec.md              # è¦æ ¼æ–‡ä»¶ (æœ¬æª”æ¡ˆ)
â””â”€â”€ todolist.md          # ä»»å‹™æ¸…å–®
```

## åŠŸèƒ½éœ€æ±‚è¦æ ¼

### æ ¸å¿ƒåŠŸèƒ½

#### 1. ä»»å‹™ç®¡ç†ç³»çµ±
- **æ–°å¢ä»»å‹™**: ä½¿ç”¨è€…å¯è¼¸å…¥ä»»å‹™å…§å®¹ï¼Œé¸æ“‡å„ªå…ˆç´š (P0-P4)
- **å®Œæˆä»»å‹™**: é€éå‹¾é¸æ¡†æ¨™è¨˜ä»»å‹™å®Œæˆ
- **åˆªé™¤ä»»å‹™**: ç¢ºèªå¾Œæ°¸ä¹…åˆªé™¤ä»»å‹™
- **ä»»å‹™æ’åº**: æŒ‰å„ªå…ˆç´šå’Œå‰µå»ºæ™‚é–“è‡ªå‹•æ’åº

#### 2. å„ªå…ˆç´šç³»çµ±
- **P0 (ğŸ”´)**: æœ€é‡è¦ - ç·Šæ€¥ä»»å‹™
- **P1 (ğŸŸ )**: é‡è¦ - é«˜å„ªå…ˆç´š
- **P2 (ğŸŸ¡)**: æ™®é€š - é è¨­å„ªå…ˆç´š
- **P3 (ğŸŸ¢)**: è¼ƒä½ - ä½å„ªå…ˆç´š
- **P4 (ğŸ”µ)**: æœ€ä½ - æ¬¡è¦ä»»å‹™

#### 3. çµ±è¨ˆèˆ‡é€²åº¦è¿½è¹¤
- å³æ™‚çµ±è¨ˆç¸½ä»»å‹™ã€å·²å®Œæˆã€å¾…å®Œæˆæ•¸é‡
- å‹•æ…‹é€²åº¦æ¢é¡¯ç¤ºå®Œæˆç™¾åˆ†æ¯”
- é‡Œç¨‹ç¢‘æ…¶ç¥å‹•ç•« (25%, 50%, 75%, 100%)

#### 4. ç¯©é¸ç³»çµ±
- **ç‹€æ…‹ç¯©é¸**: å…¨éƒ¨ã€å¾…å®Œæˆã€å·²å®Œæˆ
- **å„ªå…ˆç´šç¯©é¸**: æŒ‰ P0-P4 åˆ†é¡æª¢è¦–

### ä»‹é¢è¨­è¨ˆ

#### 5. ä¸»é¡Œèˆ‡è¦–è¦º
- **èª¿é…’ä¸»é¡Œ**: æ¯æ—¥éš¨æ©Ÿé¡¯ç¤ºèª¿é…’æ¨è–¦èªéŒ„
- **æ¼¸è®ŠèƒŒæ™¯**: æ£®æ—ä¸»é¡Œç¶ è‰²æ¼¸è®Šå‹•ç•«
- **å‹•æ…‹æ¨™é¡Œ**: æ¯5ç§’è®Šæ›é¡è‰²çš„é ­éƒ¨å€åŸŸ
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®

#### 6. å‹•ç•«æ•ˆæœ
- ä»»å‹™æ–°å¢çš„æ»‘å…¥å‹•ç•«
- æ‡¸åœæ•ˆæœå’ŒæŒ‰éˆ•å›é¥‹
- é€²åº¦é”æˆæ™‚çš„emojiæ…¶ç¥å‹•ç•«
- å¹³æ»‘çš„ç‹€æ…‹è½‰æ›å‹•ç•«

### è³‡æ–™ç®¡ç†

#### 7. æœ¬åœ°å­˜å„²
- ä½¿ç”¨ LocalStorage ä¿å­˜ä»»å‹™è³‡æ–™
- æ—¥æœŸæª¢æŸ¥æ©Ÿåˆ¶ï¼Œæ¯æ—¥è‡ªå‹•é‡ç½®æ¸…å–®
- è³‡æ–™æ ¼å¼å‡ç´šå’Œå‘å¾Œç›¸å®¹æ€§

## ç³»çµ±æµç¨‹åœ–

```mermaid
graph TD
    A[é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼] --> B[è¼‰å…¥æœ¬åœ°è³‡æ–™]
    B --> C[æª¢æŸ¥æ—¥æœŸè®Šæ›´]
    C --> D{æ˜¯å¦è·¨æ—¥?}
    D -->|æ˜¯| E[æ¸…ç©ºä»»å‹™åˆ—è¡¨]
    D -->|å¦| F[ä¿ç•™ç¾æœ‰ä»»å‹™]
    E --> G[åˆå§‹åŒ–ä»‹é¢]
    F --> G
    G --> H[é¡¯ç¤ºä»»å‹™åˆ—è¡¨]
    
    H --> I[ä½¿ç”¨è€…æ“ä½œ]
    I --> J{æ“ä½œé¡å‹}
    J -->|æ–°å¢| K[æ–°å¢ä»»å‹™]
    J -->|å®Œæˆ| L[åˆ‡æ›å®Œæˆç‹€æ…‹]
    J -->|åˆªé™¤| M[åˆªé™¤ä»»å‹™]
    J -->|ç¯©é¸| N[æ›´æ–°é¡¯ç¤º]
    
    K --> O[å„²å­˜è³‡æ–™]
    L --> O
    M --> O
    O --> P[æ›´æ–°çµ±è¨ˆ]
    P --> Q[æ›´æ–°é€²åº¦æ¢]
    Q --> R[æª¢æŸ¥é‡Œç¨‹ç¢‘]
    R --> S{é”æˆé‡Œç¨‹ç¢‘?}
    S -->|æ˜¯| T[æ’­æ”¾æ…¶ç¥å‹•ç•«]
    S -->|å¦| U[æ›´æ–°ä»‹é¢]
    T --> U
    N --> U
    U --> H
```

## è³‡æ–™çµæ§‹è¨­è¨ˆ

### ä»»å‹™ç‰©ä»¶çµæ§‹
```javascript
{
    id: Number,              // å”¯ä¸€è­˜åˆ¥ç¢¼ (æ™‚é–“æˆ³ + éš¨æ©Ÿæ•¸)
    text: String,           // ä»»å‹™å…§å®¹
    completed: Boolean,     // å®Œæˆç‹€æ…‹
    createdAt: String,      // å‰µå»ºæ™‚é–“ (HH:MM æ ¼å¼)
    priority: String,       // å„ªå…ˆç´š (P0-P4)
    priorityNumber: Number  // å„ªå…ˆç´šæ•¸å€¼ (0-4ï¼Œç”¨æ–¼æ’åº)
}
```

### LocalStorage è³‡æ–™éµå€¼
- `dailyTodos`: ä»»å‹™é™£åˆ—çš„ JSON å­—ä¸²
- `lastTodoDate`: æœ€å¾Œä½¿ç”¨æ—¥æœŸå­—ä¸²

## å¾ªåºåœ–

```mermaid
sequenceDiagram
    participant U as ä½¿ç”¨è€…
    participant UI as ä½¿ç”¨è€…ä»‹é¢
    participant JS as JavaScriptå¼•æ“
    participant LS as LocalStorage
    
    U->>UI: è¼¸å…¥æ–°ä»»å‹™
    UI->>JS: è§¸ç™¼æ–°å¢äº‹ä»¶
    JS->>JS: å»ºç«‹ä»»å‹™ç‰©ä»¶
    JS->>JS: æŒ‰å„ªå…ˆç´šæ’åº
    JS->>LS: å„²å­˜ä»»å‹™è³‡æ–™
    JS->>UI: æ›´æ–°ä»»å‹™åˆ—è¡¨
    JS->>UI: æ›´æ–°çµ±è¨ˆè³‡è¨Š
    JS->>UI: æ›´æ–°é€²åº¦æ¢
    
    alt é”æˆé‡Œç¨‹ç¢‘
        JS->>UI: æ’­æ”¾æ…¶ç¥å‹•ç•«
        JS->>UI: é¡¯ç¤ºæ¿€å‹µè¨Šæ¯
    end
    
    UI->>U: é¡¯ç¤ºæ›´æ–°çµæœ
```

## ç‰©ä»¶é—œè¯åœ–

```mermaid
classDiagram
    class TodoApp {
        +todos: Array
        +currentFilter: String
        +currentPriorityFilter: String
        +loadTodos()
        +saveTodos()
        +addTodo()
        +toggleTodo()
        +deleteTodo()
        +renderTodos()
        +updateStats()
    }
    
    class Todo {
        +id: Number
        +text: String
        +completed: Boolean
        +createdAt: String
        +priority: String
        +priorityNumber: Number
    }
    
    class UIController {
        +updateDate()
        +updateDailyQuote()
        +updateHeaderColor()
        +bindEvents()
        +createTodoItem()
        +showProgressMessage()
        +createEmojiAnimation()
    }
    
    class StorageManager {
        +loadFromLocalStorage()
        +saveToLocalStorage()
        +checkDateChange()
        +migrateOldData()
    }
    
    class ProgressTracker {
        +calculateProgress()
        +triggerMilestone()
        +updateProgressBar()
        +showCelebration()
    }
    
    TodoApp ||--o{ Todo : contains
    TodoApp ||--|| UIController : uses
    TodoApp ||--|| StorageManager : uses
    TodoApp ||--|| ProgressTracker : uses
```

## æ€§èƒ½éœ€æ±‚

### å›æ‡‰æ™‚é–“
- ä»»å‹™æ–°å¢/åˆªé™¤: < 100ms
- ä»‹é¢æ›´æ–°: < 50ms
- å‹•ç•«æ’­æ”¾: æµæš¢ 60fps

### è³‡æ–™é™åˆ¶
- å–®æ—¥æœ€å¤§ä»»å‹™æ•¸: 100å€‹
- ä»»å‹™æ–‡å­—é•·åº¦: æœ€å¤§100å­—å…ƒ
- LocalStorage ä½¿ç”¨: < 1MB

## ç€è¦½å™¨ç›¸å®¹æ€§

### æ”¯æ´ç‰ˆæœ¬
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- iOS Safari 12+
- Android Chrome 60+

### å¿…è¦ API
- LocalStorage
- ES6 èªæ³•æ”¯æ´
- CSS Grid & Flexbox
- CSS å‹•ç•«

## å®‰å…¨æ€§è€ƒé‡

### è³‡æ–™å®‰å…¨
- æ‰€æœ‰è³‡æ–™å„²å­˜åœ¨ä½¿ç”¨è€…æœ¬åœ°
- ç„¡ç¶²è·¯å‚³è¼¸ï¼Œé¿å…è³‡æ–™æ´©æ¼
- HTML è½‰ç¾©é˜²æ­¢ XSS æ”»æ“Š

### è¼¸å…¥é©—è­‰
- ä»»å‹™å…§å®¹é•·åº¦é™åˆ¶
- HTML æ¨™ç±¤éæ¿¾
- ç‰¹æ®Šå­—å…ƒè½‰ç¾©

## ç¶­è­·æ€§è¨­è¨ˆ

### ç¨‹å¼ç¢¼çµæ§‹
- æ¨¡çµ„åŒ–å‡½å¼è¨­è¨ˆ
- æ¸…æ™°çš„å‘½åè¦ç¯„
- å®Œæ•´çš„è¨»è§£èªªæ˜
- åˆ†é›¢çš„è³‡æ–™å’Œå±•ç¤ºé‚è¼¯

### æ“´å……æ€§
- æ˜“æ–¼æ·»åŠ æ–°çš„å„ªå…ˆç´š
- å¯æ“´å……çš„å‹•ç•«ç³»çµ±
- å½ˆæ€§çš„ä¸»é¡Œé…è‰²æ©Ÿåˆ¶
- æ¨¡çµ„åŒ–çš„ç¯©é¸ç³»çµ±

## æ¸¬è©¦è¦æ ¼

### åŠŸèƒ½æ¸¬è©¦
- ä»»å‹™ CRUD æ“ä½œé©—è­‰
- è³‡æ–™æŒä¹…åŒ–æ¸¬è©¦
- æ—¥æœŸé‡ç½®æ©Ÿåˆ¶æ¸¬è©¦
- ç¯©é¸åŠŸèƒ½æ¸¬è©¦

### ä»‹é¢æ¸¬è©¦
- éŸ¿æ‡‰å¼è¨­è¨ˆé©—è­‰
- å‹•ç•«æ•ˆæœæ¸¬è©¦
- ä½¿ç”¨è€…é«”é©—æµç¨‹
- ç„¡éšœç¤™åŠŸèƒ½æª¢æŸ¥

### ç›¸å®¹æ€§æ¸¬è©¦
- å¤šç€è¦½å™¨æ¸¬è©¦
- è¡Œå‹•è£ç½®æ¸¬è©¦
- ä¸åŒè¢å¹•è§£æåº¦æ¸¬è©¦